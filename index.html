<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>가정통신문 자동 생성기 | Edu Tools</title>
    <meta name="description" content="교사용 가정통신문(안내문) 초안을 빠르게 자동 생성하는 Edu Tool" />
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link href="/style.css" rel="stylesheet" />
  </head>
  <body>
    <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>
    <header class="topbar">
      <button id="menuBtn" class="iconBtn" type="button" aria-label="메뉴 열기" aria-haspopup="dialog" aria-controls="drawer">
        <span class="hamburger" aria-hidden="true"></span>
      </button>
      <div class="brand">
        <a class="brandTitle" href="https://edu-tools.pages.dev/" target="_blank" rel="noreferrer">Edu Tools</a>
        <div class="brandSub">업무 자동화 도우미</div>
      </div>
      <div class="topbarRight">
        <a class="pillLink" href="#result">생성 결과</a>
      </div>
    </header>

    <div id="backdrop" class="backdrop" hidden></div>
    <aside id="drawer" class="drawer" role="dialog" aria-modal="true" aria-label="카테고리 메뉴" hidden>
      <div class="drawerHeader">
        <a class="drawerTitle" href="https://edu-tools.pages.dev/" target="_blank" rel="noreferrer">EDU TOOLS</a>
        <button id="closeBtn" class="iconBtn" type="button" aria-label="메뉴 닫기">
          <span class="xIcon" aria-hidden="true"></span>
        </button>
      </div>
      <div class="drawerKicker">카테고리</div>
      <nav class="drawerNav" aria-label="도구 목록">
        <a class="navItem active" href="/">
          <span class="badge is-h">H</span>
          <span class="navText">가정통신문</span>
        </a>
        <a class="navItem" target="_blank" rel="noreferrer" href="https://money-report.pages.dev/">
          <span class="badge is-p">P</span>
          <span class="navText">품의 기안</span>
          <span class="ext" aria-hidden="true">↗</span>
        </a>
        <a class="navItem" target="_blank" rel="noreferrer" href="https://educate1.pages.dev/">
          <span class="badge is-d">D</span>
          <span class="navText">학교 공문</span>
          <span class="ext" aria-hidden="true">↗</span>
        </a>
        <a class="navItem" target="_blank" rel="noreferrer" href="https://class-assignment.pages.dev/">
          <span class="badge is-c">C</span>
          <span class="navText">반편성 생성기</span>
          <span class="ext" aria-hidden="true">↗</span>
        </a>
      </nav>
      <section class="drawerSection">
        <h3 class="drawerSectionTitle">연동</h3>
        <p class="muted">
          같은 카테고리에서 Edu Tools 서비스를 이동할 수 있게 구성했습니다.
        </p>
      </section>
    </aside>

    <main class="shell">
      <section class="hero">
        <h1 class="h1">가정통신문 자동 생성기</h1>
        <p class="lead">
          주제와 핵심 내용을 입력하면, 학교 가정통신문(안내문) 초안이 바로 생성됩니다.
        </p>
        <div class="warning" role="note">
          개인정보(학생/학부모/교직원 실명, 연락처, 주민등록번호 등)는 입력하지 마세요. 민감 정보는 "홍길동(가명)"처럼 비식별 처리 후 작성하세요.
        </div>
      </section>

      <section class="card guideCard" aria-label="사용 안내">
        <details class="help" open>
          <summary class="h2">사용 안내</summary>
          <div class="cardBody">
            <div class="guideGrid">
              <div class="guideCol">
              <div class="guideH">1. 빠른 작성</div>
              <ul class="guideUl">
                <li>먼저 <b>제목</b>과 <b>시행일</b>만 입력해도 초안을 만들 수 있어요.</li>
                <li><b>핵심 내용</b>은 한 줄에 한 가지씩 적으면 더 깔끔하게 정리됩니다.</li>
                <li><b>빠른 템플릿</b>으로 자주 쓰는 문서를 바로 불러올 수 있어요.</li>
              </ul>
            </div>
            <div class="guideCol">
              <div class="guideH">2. 학교 양식(선택)</div>
              <ul class="guideUl">
                <li><b>PDF 파일이 양식 분석에 가장 최적화</b>되어 있습니다. (가장 안정적/정확)</li>
                <li>학교별 가정통신문 양식(PDF/HWPX/이미지)을 업로드 후 <b>양식 분석</b>을 누르세요.</li>
                <li>분석이 끝나면 <b>양식 기반 생성</b>으로 해당 양식 틀에 맞춰 작성됩니다.</li>
                <li class="em">양식이 없어도 로컬 생성으로 언제든 작성 가능합니다.</li>
              </ul>
            </div>
          </div>
        </div>
        </details>
      </section>

      <section class="card template-section">
        <div class="cardHead">
          <h2 class="h2">템플릿</h2>
        </div>
        <div class="cardBody">
          <div class="grid2">
            <label class="field">
              <span class="label">템플릿 검색</span>
              <input id="tplSearch" class="input" type="search" placeholder="예: 현장체험학습, 상담, 신청…" />
            </label>
            <label class="field">
              <span class="label">빠른 템플릿</span>
              <select id="tplQuick" class="select">
                <option value="">선택 안 함</option>
              </select>
            </label>
          </div>
        </div>
        <div class="row">
          <button id="applyTplBtn" class="btn" type="button">템플릿 적용</button>
          <button id="resetBtn" class="btn ghost" type="button">입력 초기화</button>
          <div class="spacer"></div>
          <button id="fillExampleBtn" class="btn subtle" type="button">예시 입력</button>
        </div>
      </section>

      <section class="card">
        <div class="cardHead">
          <h2 class="h2">학교 양식 업로드 (선택)</h2>
        </div>
        <div class="form">
          <div class="grid2">
            <label class="field">
              <span class="label">양식 파일(PDF/이미지)</span>
              <input id="tplFile" class="input" type="file" accept=".pdf,.hwp,.hwpx,image/*" />
            </label>
            <label class="field">
              <span class="label">양식 기반 생성</span>
              <select id="aiMode" class="select">
                <option value="on" selected>사용(양식 기반 생성)</option>
                <option value="off">사용 안 함(로컬 생성)</option>
              </select>
            </label>
          </div>
          <div class="row">
            <button id="analyzeTplBtn" class="btn" type="button">양식 분석</button>
            <button id="clearTplBtn" class="btn ghost" type="button">양식 제거</button>
            <div class="spacer"></div>
            <div id="tplStatus" class="status" aria-live="polite"></div>
          </div>
        </div>
      </section>

      <section class="card">
        <div class="cardHead">
          <h2 class="h2">가정통신문 입력</h2>
        </div>
        <form id="form" class="form" autocomplete="off">
          <div class="grid2">
            <label class="field">
              <span class="label">제목</span>
              <input id="title" class="input" name="title" type="text" placeholder="예: 2026학년도 1학기 학부모 상담주간 안내" required />
            </label>
            <label class="field">
              <span class="label">시행일</span>
              <input id="date" class="input" name="date" type="date" required />
            </label>
          </div>

          <div class="grid3">
            <label class="field">
              <span class="label">학교명</span>
              <input id="school" class="input" name="school" type="text" placeholder="예: 예시초등학교" />
            </label>
            <label class="field">
              <span class="label">학년/반(선택)</span>
              <input id="class" class="input" name="class" type="text" placeholder="예: 3학년 2반" />
            </label>
            <label class="field">
              <span class="label">부서(선택)</span>
              <input id="teacher" class="input" name="teacher" type="text" placeholder="예: 교무실" />
            </label>
          </div>

          <div class="grid2">
            <label class="field">
              <span class="label">문서 유형</span>
              <select id="kind" class="select" name="kind">
                <option value="안내">안내</option>
                <option value="신청">신청</option>
                <option value="변경">변경</option>
                <option value="협조">협조</option>
                <option value="공지">공지</option>
              </select>
            </label>
            <label class="field">
              <span class="label">문체</span>
              <select id="tone" class="select" name="tone">
                <option value="친절">친절</option>
                <option value="공손" selected>공손</option>
                <option value="구체적">구체적</option>
                <option value="간결">간결</option>
              </select>
            </label>
          </div>

          <label class="field">
            <span class="label">요약(한 줄)</span>
            <input id="summary" class="input" name="summary" type="text" placeholder="예: 상담주간 운영 일정과 신청 방법을 안내드립니다." />
          </label>

          <label class="field">
            <span class="label">핵심 내용(줄바꿈으로 항목 구분)</span>
            <span class="hint">한 줄에 한 가지씩 적어 주세요. 예시는 지워도 됩니다.</span>
            <textarea id="points" class="textarea" name="points" rows="6" placeholder="예:&#10;1) 상담 기간: 3/16(월) ~ 3/20(금)&#10;2) 장소: 각 교실&#10;3) 신청: 가정통신문 회신 또는 학교 앱 설문&#10;4) 문의: 담임교사"></textarea>
          </label>

          <div class="grid2">
            <label class="field">
              <span class="label">붙임(선택, 줄바꿈으로 구분)</span>
              <span class="hint">필요한 경우만 적어 주세요.</span>
              <textarea id="attachments" class="textarea" name="attachments" rows="4" placeholder="예:&#10;1) 상담 신청서 1부&#10;2) 개인정보 수집·이용 동의서 1부"></textarea>
            </label>
            <label class="field">
              <span class="label">추가 안내(선택)</span>
              <span class="hint">주의사항, 문의처, 회신 방법 등을 짧게 적어 주세요.</span>
              <textarea id="extra" class="textarea" name="extra" rows="4" placeholder="예: 일정 변경/취소는 오전 10시까지 담임교사에게 알려 주세요."></textarea>
            </label>
          </div>

          <div class="row">
            <button id="genBtn" class="btn primary" type="submit">가정통신문 생성</button>
            <button id="clearBtn" class="btn ghost" type="button">결과 비우기</button>
          </div>
        </form>
      </section>

      <section id="result" class="card">
        <div class="cardHead">
          <h2 class="h2">생성 결과</h2>
        </div>
        <div class="row resultActions">
          <button id="copyBtn" class="btn" type="button" disabled>결과 복사</button>
          <button id="downloadBtn" class="btn ghost" type="button" disabled>TXT 다운로드</button>
          <div class="spacer"></div>
          <div id="status" class="status" aria-live="polite"></div>
        </div>
        <pre id="out" class="output" tabindex="0" aria-label="생성된 가정통신문 결과"></pre>
      </section>

    </main>
    <footer class="footer">
      <div class="footerTitle">가정통신문 자동 생성기</div>
      <div class="footerSub">Copyright © HONGSEOK LEE. All rights reserved.</div>
    </footer>

    <script defer src="/main.js"></script>
  </body>
</html>
